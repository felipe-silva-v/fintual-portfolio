# Original Prompt

I need to create a professional Python project for a job application at Fintual. The project should be a portfolio management system that helps track and rebalance stock allocations. Let's build this step by step.

Project Requirements:
1. Create a Stock class that:
   - Tracks stock prices over time
   - Stores price history with dates
   - Validates input data
   - Handles errors appropriately
   - Uses type hints and proper documentation

2. Create a Portfolio class that:
   - Manages a collection of stocks
   - Sets target allocations for each stock
   - Tracks current positions
   - Calculates portfolio value
   - Determines rebalancing actions needed
   - Uses tolerance values for allocation validation and rebalancing decisions

3. Professional Development Requirements:
   - Use modern Python practices (type hints, dataclasses)
   - Implement comprehensive error handling
   - Write unit tests with high coverage
   - Set up CI/CD with GitHub Actions
   - Use code quality tools (Black, Ruff)
   - Follow PEP 8 style guide
   - Include proper documentation

4. Additional Features to Implement:
   - Price history tracking with date-based lookups
   - Position tracking with share counts
   - Value calculations
   - Allocation monitoring
   - Visualization capabilities
   - Configurable tolerance settings

Project Structure:
1. Set up the development environment:
   - Create a virtual environment
   - Initialize git repository
   - Set up pre-commit hooks
   - Configure CI/CD

2. Create the package structure:
   - src/portfolio/ for main code
   - tests/ for unit tests
   - Configuration files (pyproject.toml, setup.py)
   - Documentation (README.md)
   - Example usage (example.py)

3. Implement the core functionality:
   - Stock class with price history
   - Portfolio class with allocation management
   - Rebalancing logic
   - Visualization features

4. Add professional touches:
   - Comprehensive error handling
   - Input validation
   - Logging
   - Type hints
   - Documentation

5. Set up testing and quality assurance:
   - Unit tests with pytest
   - Code coverage reporting
   - Linting with Ruff
   - Formatting with Black
   - CI/CD pipeline

The final project should demonstrate:
- Clean, maintainable code
- Professional development practices
- Comprehensive testing
- Good documentation
- Modern Python features
- Error handling
- Code quality

Please help me build this project step by step, starting with the development environment setup and moving through each component systematically. For each step, explain the decisions and best practices being implemented.

Let's begin with setting up the development environment and project structure. After that, we'll implement each component one by one, ensuring we maintain high quality throughout the development process.